# [NPM é“å¡”ç§æœ](http://mid.chinatowercom.cn:18080/appGuide/guide/npm.html#npm-é“å¡”ç§æœ)

é“å¡” China Tower NPM ç§æœæ˜¯é“å¡” ğŸ—¼ å†…éƒ¨ç§æœ‰åº“ï¼Œä¸»è¦ç”¨äºå­˜æ”¾ç§æœ‰ Packagesï¼Œä¾¿äºç®¡ç†å†…éƒ¨çš„ä¸šåŠ¡ç»„ä»¶æˆ–è€…æ¨¡å—ã€‚

## [è®¾ç½®ç§æœ‰é•œåƒæº](http://mid.chinatowercom.cn:18080/appGuide/guide/npm.html#è®¾ç½®ç§æœ‰é•œåƒæº)

- **é•œåƒæº URLï¼š** http://10.38.77.5:8081/repository/npm-public/

### [è®¾ç½®æ–¹å¼](http://mid.chinatowercom.cn:18080/appGuide/guide/npm.html#è®¾ç½®æ–¹å¼)

æ–¹å¼ä¸€

```bash
# .npmrc æ–‡ä»¶ï¼Œå¯å…ˆä½¿ç”¨è¯¥æ–¹å¼
# .npmrc åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºè¯¥æ–‡ä»¶
# é»˜è®¤çš„ registry å¯é…ç½®æˆè‡ªå·±ç†Ÿæ‚‰çš„é•œåƒæº

# æ³¨æ„ï¼šæ¯æ¡å‘½ä»¤å ä¸€è¡Œï¼ˆnode versionï¼š v14+ï¼‰

registry=https://registry.npmjs.org/
@ct:registry=http://10.38.77.5:8081/repository/npm-public/
```

æ–¹å¼äºŒ

```bash
# æŒä¹…ä½¿ç”¨ï¼ˆä¸€ï¼‰
npm config set registry http://10.38.77.5:8081/repository/npm-public/
# npm æºåˆ«åï¼ˆäºŒï¼‰
npm install -g ctnpm --registry=http://10.38.77.5:8081/repository/npm-public/
```

æ–¹å¼ä¸‰

```bash
# é€šè¿‡å®‰è£… npm æºç®¡ç†æ¨¡å— nrmï¼Œè¿›è¡Œå¿«é€Ÿåˆ‡æ¢ä¸åŒæº
# å…¨å±€å®‰è£…nrm
npm i nrm -g
# æ·»åŠ é•œåƒ
# nrm add <registry name> <registry url>
nrm add china-tower http://10.38.77.5:8081/repository/npm-public/
# ä½¿ç”¨é•œåƒ
nrm use china-tower

# é€šè¿‡ nrm ls æŸ¥çœ‹æ‰€æœ‰çš„é•œåƒ
# åˆ—å‡ºæ‰€æœ‰çš„é•œåƒ
nrm ls

# æ³¨ï¼šé¦–æ¬¡åˆ‡æ¢ npm æºéœ€å®‰è£… nrm æ¨¡å—ï¼Œä¹‹ååˆ‡æ¢åªéœ€æ‰§è¡Œ nrm use china-tower å‘½ä»¤å³å¯ï¼›
# æŸ¥çœ‹å½“å‰ npm æºï¼Œæ‰§è¡Œ npm config get registry å‘½ä»¤ã€‚
# è‹¥æ‰§è¡Œç¬¬äºŒæ­¥çš„æ—¶å€™æŠ¥è·¯å¾„ç±»å‹çš„é”™ï¼Œåˆ™æ˜¯ nrm æœ¬èº«çš„é—®é¢˜ï¼Œéœ€è¦æ‰¾åˆ°è·¯å¾„ä¸ºâ€œé¡¹ç›®è·¯å¾„\nodejs\node_global\node_modules\nrm\cli.jsâ€çš„æ–‡ä»¶ï¼Œ
# å°†â€const NRMRC = path.join(process.env.HOME, '.nrmrc');â€
# æ”¹ä¸º â€œconst NRMRC = path.join(process.env[(process.platform == 'win32') ? 'USERPROFILE' : 'HOME'], '.nrmrc');â€
```